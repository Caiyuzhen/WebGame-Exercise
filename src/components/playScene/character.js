// åŸºç±», æä¾›å…¬å…±çš„æ–¹æ³•, è®©å­ç±»ç»§æ‰¿ !!
// çˆ¶ç±»ä¹Ÿå¯ä»¥è°ƒç”¨å­ç±»çš„åŸå‹æ–¹æ³• !!

export default class Character {
	constructor(posInfo) {
		// this.father = 'hey'
		// this.t() //å¯ä»¥è°ƒç”¨å­ç±»çš„æ–¹æ³•, å› ä¸º this æŒ‡å‘å­ç±»å®ä¾‹, æ˜¯åœ¨å®šä¹‰çš„æ—¶å€™ç”Ÿæˆçš„, è€Œä¸æ˜¯åœ¨å®ä¾‹åŒ–çš„æ—¶å€™ç”Ÿæˆçš„ !! 
		// ã€âš¡ï¸åŸå‹é“¾é®è”½é—®é¢˜âš¡ï¸ã€‘, æ¯”å¦‚å­ç±»ä¸Šå®šä¹‰çš„åŸå‹æ–¹æ³•è·Ÿçˆ¶ç±»çš„åŸå‹æ–¹æ³•ã€åç§°ä¸€æ¨¡ä¸€æ ·ã€‘, æ­¤æ—¶ä¼˜å…ˆã€æ‰§è¡Œå­ç±»çš„åŸå‹æ–¹æ³•ã€‘ !! æ¯”å¦‚å­ç±»å¯ä»¥é‡æ–°å®šä¹‰ä¸€äº›æ–¹æ³• !!
		this.posInfo = posInfo
		this.needAutoScaleAnimation = false //æ§åˆ¶å­å…ƒç´ æ˜¯å¦éœ€è¦ç¼©æ”¾åŠ¨ç”»(æ¯”å¦‚å°å…ƒç´ éœ€è¦, å¤§æ ‡é¢˜ä¸éœ€è¦)
		this.isPlayLoopAnimation = null
	}

	// ğŸ‘‡å®šä¹‰ä¸€ä¸ªæ–¹æ³•, åœ¨å­ç±»ä¸­å»æ‰§è¡Œ, ä¸ç„¶è®¿é—®ä¸åˆ° element ï¼
	superInit() {
		// console.log(this.element) //âš¡ï¸å› ä¸ºå…ˆæ‰§è¡Œçˆ¶ç±»å†æ‰§è¡Œå­ç±», å¦‚æœè¿™ä¸ªå‡½æ•°ä¸åœ¨å­ç±»ä¸­å»æ‰§è¡Œçš„è¯, ä¼š undefined !!ã€âš¡ï¸é‡Œè¾¹çš„ this è°è°ƒç”¨å°±æŒ‡å‘è°ã€‘


		// this.moveShowUpEle() // ğŸš„ æ–¹ä¾¿åŠ¨ç”»æ§åˆ¶è§¦å‘çš„æ—¶æœº â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
		// ğŸ‘‡ğŸ‘‡ğŸ‘‡ æ¯ä¸ª this.element æŒ‡å‘å„è‡ªçš„å­ç±», å› ä¸ºè¢«ä¸åŒçš„å­ç±»åˆ†åˆ«è°ƒç”¨äº†!!!
		this.element.alpha = 0//ğŸ”¥ğŸ”¥ğŸ”¥ åšé€æ˜åº¦çš„åŠ¨ç”» !! å› ä¸ºå­ç±»ç»§æ‰¿äº†çˆ¶ç±», âš¡ï¸âš¡ï¸âš¡ï¸ å¹¶ä¸” superInit() æ˜¯åœ¨å­ç±»ä¸­è°ƒç”¨çš„, æ‰€ä»¥ ã€this.element å°±ç»Ÿä¸€æŒ‡å‘å­ç±»!!ã€‘
		this.element.x = this.posInfo.from.x
		this.element.t = this.posInfo.from.y

		// ğŸ‘†å…ƒç´ å·²ç»åœ¨åœºæ™¯é‡Œäº†, ä½†æ˜¯åŠ è½½è¿›åº¦è¿˜æ²¡èµ°å®Œ, æ‰€ä»¥å…ˆä¸å‡ºç° â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”


		// this.element.x = this.posInfo.from.x
		// this.element.t = this.posInfo.from.y
		// gsap.to(this.element, { //this æŒ‡å‘å­ç±», å› ä¸ºæ˜¯å­ç±»è°ƒç”¨çš„
		// 	x: this.posInfo.to.x,
		// 	y: this.posInfo.to.y,
		// 	duration: 0.75
		// })
 	}

	// ğŸ“¦å°è£…çš„æ–¹æ³• (ğŸ”¥ğŸ”¥ğŸ”¥ç›¸å½“äºå­ç±»åªè¦ä¼ æ•°æ®å°±è¡Œäº†, ä¸åŒé‡æ–°å®šä¹‰æ–¹æ³•ï¼)
	/* ã€ğŸ§ æ€è·¯ã€‘
			1.å­ç±»ç»§æ‰¿çˆ¶ç±»
			2.çˆ¶ç±»å®šä¹‰æ–¹æ³•ï¼Œthis.XXX çš„å½¢å¼è¿›è¡Œå®šä¹‰, å¦‚ superInit()
			3.å­ç±»è°ƒç”¨çˆ¶ç±»çš„æ­¤æ–¹æ³•
			4.çˆ¶ç±»å®šä¹‰åŠ¨ç”»å‡½æ•°, å­ç±»æ¥æ”¶ playScene() é‚£è¾¹ç»Ÿä¸€ç®¡ç†çš„æ•°æ®
			5.æœ€ç»ˆå­ç±»å¯ä»¥è¢«ç»Ÿä¸€ä¿®æ”¹åˆ°
	*/

	// ğŸš„ ã€ğŸ‘€ç»Ÿä¸€æ˜¾ç¤ºå…ƒç´ ã€‘æ–¹ä¾¿åŠ¨ç”»æ§åˆ¶è§¦å‘çš„æ—¶æœº, åœ¨å­ç±»ä¸­è°ƒç”¨å°±èƒ½æ˜¾ç¤ºå‡ºå…ƒç´ 
	moveShowUpEle() {
		// // ğŸ‘‡ğŸ‘‡ğŸ‘‡ æ¯ä¸ª this.element æŒ‡å‘å„è‡ªçš„å­ç±», å› ä¸ºè¢«ä¸åŒçš„å­ç±»åˆ†åˆ«è°ƒç”¨äº†!!!
		// this.element.alpha = 0//ğŸ”¥ğŸ”¥ğŸ”¥ åšé€æ˜åº¦çš„åŠ¨ç”» !! å› ä¸ºå­ç±»ç»§æ‰¿äº†çˆ¶ç±», âš¡ï¸âš¡ï¸âš¡ï¸ å¹¶ä¸” superInit() æ˜¯åœ¨å­ç±»ä¸­è°ƒç”¨çš„, æ‰€ä»¥ ã€this.element å°±ç»Ÿä¸€æŒ‡å‘å­ç±»!!ã€‘
		// this.element.x = this.posInfo.from.x
		// this.element.t = this.posInfo.from.y

		gsap.to(this.element, { //this æŒ‡å‘å­ç±», å› ä¸ºæ˜¯å­ç±»è°ƒç”¨çš„
			x: this.posInfo.to.x,
			y: this.posInfo.to.y,
			alpha: 1,
			duration: 0.75,
			onComplete: () => { //åŠ¨ç”»å®Œæˆåè§¦å‘
				if(this.needAutoAnimation) {
					this.isPlayLoopAnimation = gsap.to( //ğŸ‘ˆç”¨ isPlayLoopAnimation æ¥æ‰¿æ¥ä¸€äº› gsap çš„æ–¹æ³•, ä»¥ä¾¿åç»­æ§åˆ¶
						// åœ¨å­ç±»ä¸­æ·»åŠ äº†ä¸€ä¸ª 'scale' å±æ€§ç”¨äºåˆ¤æ–­æ˜¯å¦åº”è¯¥æ‰§è¡Œç¼©æ”¾åŠ¨ç”»
						this.autoAnimationType === 'scale' ? this.element.scale : this.element, 
						this.AnimationInfo // ä½ç½®åŠ¨ç”»ä¸€å®šä¼šæ‰§è¡Œï¼ˆğŸ”¥ğŸ”¥åœ¨å­ç±»ä¸­ barElement ã€ shapeBox éƒ½æœ‰å®šä¹‰ AnimationInfo åŠ¨ç”»ï¼ï¼‰
					)
				}
			}
		})
	}


	// ğŸš„ ã€ğŸ‘€ç»Ÿä¸€éšè—å…ƒç´ ã€‘
	hideOff() {
		// å…ˆæš‚åœå†ç§»å¼€å…ƒç´ 
		if(this.isPlayLoopAnimation) {
			this.isPlayLoopAnimation.pause() //ğŸ‘ˆåœæ­¢å…ƒç´ è‡ªåŠ¨å˜åŒ–çš„æ•ˆæœ kill() å®Œå…¨æ¸…é™¤, pause() æš‚åœ
		}

		console.log(this)
		if( //åˆ¤æ–­å®ä¾‹ä¸Šæ˜¯å¦æœ‰ gameReadyToMoveStar() æ–¹æ³•, æ˜¯çš„è¯åˆ™æ‰§è¡Œ (ç›®çš„æ˜¯æ’é™¤æ‰ ğŸŒŸ æ˜Ÿæ˜Ÿ, æ˜Ÿæ˜Ÿå•ç‹¬ç§»åŠ¨åˆ°æœ€ä¸‹è¾¹, this æŒ‡å‘å­ç±»)
			this.gameReadyToMoveStar &&
			typeof this.gameReadyToMoveStar === 'function'
		) { 
			console.log('æ˜¯æ˜Ÿæ˜Ÿ')
			this.gameReadyToMoveStar()
		} else {
			gsap.to(this.element, {
				x: this.posInfo.from.x, // from å°±æ˜¯å›å»
				y: this.posInfo.from.y, // from å°±æ˜¯å›å»
				// alpha: 0,
				duration: 0.75,
				// onComplete: () => { //ğŸ¤šåœæ­¢å…ƒç´ è‡ªåŠ¨å˜åŒ–çš„æ•ˆæœ
				// 	if(this.isPlayLoopAnimation) {
				// 		this.isPlayLoopAnimation.pause() //ğŸ‘ˆåœæ­¢å…ƒç´ è‡ªåŠ¨å˜åŒ–çš„æ•ˆæœ kill() å®Œå…¨æ¸…é™¤, pause() æš‚åœ
				// 	}
				// }
			})
		}
	}
	
}